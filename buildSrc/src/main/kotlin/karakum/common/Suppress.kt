package karakum.common

internal enum class Suppress {
    EXTERNAL_TYPE_EXTENDS_NON_EXTERNAL_TYPE,
    DECLARATION_CANT_BE_INLINED,
    VAR_TYPE_MISMATCH_ON_OVERRIDE,
    NOTHING_TO_INLINE,

    NAME_CONTAINS_ILLEGAL_CHARS,
    NESTED_CLASS_IN_EXTERNAL_INTERFACE,

    INTERFACE_WITH_SUPERCLASS,
    FINAL_SUPERTYPE,

    PARAMETER_NAME_CHANGED_ON_OVERRIDE,
    DIFFERENT_NAMES_FOR_THE_SAME_PARAMETER_IN_SUPERTYPES,

    CANNOT_CHECK_FOR_EXTERNAL_INTERFACE,
    CANNOT_CHECK_FOR_ERASED,
    ERROR_IN_CONTRACT_DESCRIPTION,

    UNUSED_TYPEALIAS_PARAMETER,

    VIRTUAL_MEMBER_HIDDEN,

    // TODO: remove after unions
    USELESS_IS_CHECK,

    ABSTRACT_MEMBER_NOT_IMPLEMENTED,
    SEALED_INHERITOR_IN_DIFFERENT_PACKAGE,

    EXTERNAL_CLASS_CONSTRUCTOR_PROPERTY_PARAMETER,

    NON_EXTERNAL_DECLARATION_IN_INAPPROPRIATE_FILE,
    VAR_OVERRIDDEN_BY_VAL,

    NATIVE_INDEXER_KEY_SHOULD_BE_STRING_OR_NUMBER,

    WRONG_BODY_OF_EXTERNAL_DECLARATION,
    INLINE_EXTERNAL_DECLARATION,
    NON_ABSTRACT_MEMBER_OF_EXTERNAL_INTERFACE,

    WRONG_EXTERNAL_DECLARATION,

    INVISIBLE_MEMBER,
    INVISIBLE_REFERENCE,

    ;
}

internal fun fileSuppress(
    vararg suppresses: Suppress,
): String =
    suppresses.map { """"${it.name}"""" }
        .joinToString(",\n", "@file:Suppress(\n", ",\n)")

internal fun suppress(
    suppress: Suppress,
): String =
    """@Suppress("${suppress.name}")"""
